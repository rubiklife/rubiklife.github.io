---
title: "Ralph Claude Codeï¼šè®©AIè‡ªä¸»å®Œæˆé¡¹ç›®å¼€å‘çš„ç¥çº§å·¥å…·"
date: 2026-02-01T14:00:00+08:00
categories:
  - AIå·¥å…·
tags:
  - AI
  - Claude
  - è‡ªåŠ¨åŒ–
  - å¼€å‘å·¥å…·
  - Claude Code
toc: true
toc_label: "ç›®å½•"
toc_icon: "robot"
mermaid: true
excerpt: "Ralphæ˜¯ä¸€ä¸ªé©å‘½æ€§çš„è‡ªåŠ¨åŒ–å¼€å‘å·¥å…·ï¼Œè®©Claude Codeåœ¨æ— äººç›‘ç£çš„æƒ…å†µä¸‹è‡ªä¸»å®Œæˆæ•´ä¸ªé¡¹ç›®å¼€å‘ï¼Œæ”¯æŒæ™ºèƒ½é€€å‡ºæ£€æµ‹ã€é€Ÿç‡é™åˆ¶å’Œå®æ—¶ç›‘æ§ã€‚"
---

## é¡¹ç›®ç®€ä»‹

**Ralph** æ˜¯ä¸€ä¸ªä¸º Claude Code CLI æ‰“é€ çš„è‡ªä¸»å¼€å‘å¾ªç¯å·¥å…·ï¼Œå®ƒèƒ½è®© AI åœ¨æœ€å°‘äººå·¥å¹²é¢„çš„æƒ…å†µä¸‹è‡ªä¸»å®Œæˆæ•´ä¸ªé¡¹ç›®çš„å¼€å‘å·¥ä½œã€‚Ralph å¾—åäº Geoffrey Huntley åˆ›é€ çš„ "Ralph æŠ€æœ¯"ï¼Œè¿™æ˜¯ä¸€ç§è®© AI ä»£ç†æŒç»­å·¥ä½œç›´åˆ°ä»»åŠ¡å®Œæˆçš„æ–¹æ³•è®ºã€‚

```mermaid
mindmap
  root((Ralph<br/>Claude Code))
    æ ¸å¿ƒåŠŸèƒ½
      è‡ªä¸»å¾ªç¯
      æ™ºèƒ½é€€å‡º
      é€Ÿç‡é™åˆ¶
      ä¼šè¯ç®¡ç†
    ç›‘æ§ç³»ç»Ÿ
      tmuxé›†æˆ
      å®æ—¶ä»ªè¡¨ç›˜
      æ—¥å¿—è¿½è¸ª
      çŠ¶æ€æ£€æŸ¥
    å®‰å…¨æœºåˆ¶
      æ–­è·¯å™¨æ¨¡å¼
      APIé™åˆ¶
      è¶…æ—¶æ§åˆ¶
      é”™è¯¯æ¢å¤
    é¡¹ç›®ç®¡ç†
      å¿«é€Ÿè®¾ç½®
      æ¨¡æ¿ç³»ç»Ÿ
      PRDå¯¼å…¥
      é…ç½®æ–‡ä»¶
```

### æ ¸å¿ƒä»·å€¼

- **ğŸ¤– å®Œå…¨è‡ªä¸»**ï¼šAI è‡ªåŠ¨å¾ªç¯å¼€å‘ï¼Œæ— éœ€æŒç»­ç›‘ç£
- **ğŸ¯ æ™ºèƒ½é€€å‡º**ï¼šåŒæ¡ä»¶æ£€æµ‹æœºåˆ¶ï¼Œç¡®ä¿ä»»åŠ¡çœŸæ­£å®Œæˆ
- **âš¡ é€Ÿç‡ä¿æŠ¤**ï¼šå†…ç½®é€Ÿç‡é™åˆ¶å’Œæ–­è·¯å™¨ï¼Œä¿æŠ¤ API é…é¢
- **ğŸ“Š å®æ—¶ç›‘æ§**ï¼štmux é›†æˆçš„å¯è§†åŒ–ä»ªè¡¨ç›˜ï¼Œå®æ—¶æŒæ¡è¿›åº¦
- **ğŸ”§ æ˜“äºä½¿ç”¨**ï¼šä¸€é”®å®‰è£…ï¼Œå¼€ç®±å³ç”¨çš„é¡¹ç›®æ¨¡æ¿
- **ğŸ§ª å……åˆ†æµ‹è¯•**ï¼š440 ä¸ªç»¼åˆæµ‹è¯•ï¼Œ100% é€šè¿‡ç‡ä¿è¯è´¨é‡

### GitHub ä¿¡æ¯

- **ä»“åº“**ï¼š[frankbria/ralph-claude-code](https://github.com/frankbria/ralph-claude-code)
- **License**ï¼šMIT
- **Stars**ï¼š5.9k+ â­
- **å½“å‰ç‰ˆæœ¬**ï¼šv0.11.2
- **å¼€å‘çŠ¶æ€**ï¼šæ´»è·ƒå¼€å‘ä¸­ï¼Œç›®æ ‡ v1.0.0

## å·¥ä½œåŸç†

Ralph é€šè¿‡ä¸€ä¸ªæ™ºèƒ½å¾ªç¯ç³»ç»Ÿä¸ Claude Code äº¤äº’ï¼Œå®ç°å®Œå…¨è‡ªä¸»çš„å¼€å‘æµç¨‹ã€‚

```mermaid
graph TB
    Start([å¼€å§‹ Ralph å¾ªç¯]) --> LoadPrompt[åŠ è½½ PROMPT.md]
    LoadPrompt --> CheckSession{æ£€æŸ¥ä¼šè¯<br/>çŠ¶æ€}
    CheckSession -->|ä¼šè¯æœ‰æ•ˆ| RunClaude[æ‰§è¡Œ Claude Code]
    CheckSession -->|ä¼šè¯è¿‡æœŸ/æ— æ•ˆ| ResetSession[é‡ç½®ä¼šè¯]
    ResetSession --> RunClaude
    
    RunClaude --> Timeout{æ‰§è¡Œ<br/>è¶…æ—¶?}
    Timeout -->|æ˜¯| HandleTimeout[å¤„ç†è¶…æ—¶<br/>è®°å½•æ—¥å¿—]
    Timeout -->|å¦| CaptureResponse[æ•è·å“åº”]
    HandleTimeout --> CaptureResponse
    
    CaptureResponse --> Analyze[åˆ†æå“åº”å†…å®¹]
    Analyze --> CheckExit{æ£€æŸ¥é€€å‡º<br/>æ¡ä»¶}
    
    CheckExit -->|åŒæ¡ä»¶æ»¡è¶³| Exit([é€€å‡ºå¾ªç¯])
    CheckExit -->|ç»§ç»­| CheckCircuit{æ£€æŸ¥<br/>æ–­è·¯å™¨}
    
    CheckCircuit -->|ç†”æ–­| Wait[ç­‰å¾…æ¢å¤]
    Wait --> CheckCircuit
    CheckCircuit -->|æ­£å¸¸| CheckRate{æ£€æŸ¥<br/>é€Ÿç‡é™åˆ¶}
    
    CheckRate -->|è¶…é™| RateWait[ç­‰å¾…è®¡æ•°å™¨é‡ç½®]
    RateWait --> CheckRate
    CheckRate -->|æ­£å¸¸| UpdateLog[æ›´æ–°æ—¥å¿—å’ŒçŠ¶æ€]
    
    UpdateLog --> CheckAPILimit{APIé™åˆ¶<br/>æ£€æŸ¥}
    CheckAPILimit -->|5å°æ—¶é™åˆ¶| UserPrompt[æç¤ºç”¨æˆ·å†³ç­–]
    CheckAPILimit -->|æ­£å¸¸| IncrementLoop[å¾ªç¯è®¡æ•°+1]
    UserPrompt --> IncrementLoop
    
    IncrementLoop --> RunClaude
    
    style Start fill:#e1f5e1
    style Exit fill:#ffe1e1
    style RunClaude fill:#e1e5ff
    style Analyze fill:#fff4e1
    style CheckExit fill:#f0e1ff
```

### æ™ºèƒ½é€€å‡ºæ£€æµ‹

Ralph ä½¿ç”¨**åŒæ¡ä»¶é€€å‡ºé—¨**æ¥åˆ¤æ–­ä»»åŠ¡æ˜¯å¦çœŸæ­£å®Œæˆï¼š

```mermaid
graph LR
    Response[Claude å“åº”] --> Condition1{æ¡ä»¶1:<br/>å®ŒæˆæŒ‡ç¤ºå™¨}
    Response --> Condition2{æ¡ä»¶2:<br/>EXIT_SIGNAL}
    
    Condition1 -->|æ£€æµ‹åˆ°| C1Pass[âœ“]
    Condition1 -->|æœªæ£€æµ‹åˆ°| C1Fail[âœ—]
    
    Condition2 -->|true| C2Pass[âœ“]
    Condition2 -->|false/æœªè®¾ç½®| C2Fail[âœ—]
    
    C1Pass --> Gate{åŒæ¡ä»¶<br/>éƒ½æ»¡è¶³?}
    C2Pass --> Gate
    C1Fail --> Gate
    C2Fail --> Gate
    
    Gate -->|æ˜¯| Exit([é€€å‡ºå¾ªç¯])
    Gate -->|å¦| Continue([ç»§ç»­å¾ªç¯])
    
    style Exit fill:#90EE90
    style Continue fill:#FFB6C1
    style Gate fill:#FFD700
```

**é€€å‡ºæŒ‡ç¤ºå™¨åŒ…æ‹¬ï¼š**
- "ä»»åŠ¡å®Œæˆ"ã€"æ‰€æœ‰å®Œæˆ"ã€"å®Œå…¨å®Œæˆ"
- "æ²¡æœ‰æ›´å¤šå·¥ä½œ"ã€"æ²¡æœ‰å‰©ä½™ä»»åŠ¡"
- "é¡¹ç›®å®Œæˆ"ã€"å®ç°å®Œæˆ"
- EXIT_SIGNAL æ˜ç¡®è®¾ç½®ä¸º true

## å¿«é€Ÿå¼€å§‹

### ç³»ç»Ÿè¦æ±‚

```mermaid
graph LR
    subgraph å¿…éœ€ä¾èµ–
        A[Claude Code CLI] --> B[æœ‰æ•ˆçš„ Anthropic API å¯†é’¥]
        C[Bash 4.0+] --> D[tmux]
    end
    
    subgraph macOS é¢å¤–ä¾èµ–
        E[GNU coreutils<br/>æä¾› timeout å‘½ä»¤]
    end
    
    subgraph å¼€å‘ä¾èµ–
        F[Node.js 18+] --> G[npm æˆ– yarn]
        H[Bats<br/>Bash æµ‹è¯•æ¡†æ¶]
    end
    
    style A fill:#e1f5e1
    style D fill:#e1f5e1
    style E fill:#fff4e1
```

### å®‰è£…æ­¥éª¤

#### 1. å®‰è£… Claude Code

```bash
# ä½¿ç”¨ npm
npm install -g @anthropic-ai/claude-code

# æˆ–ä½¿ç”¨ yarn
yarn global add @anthropic-ai/claude-code

# è®¾ç½® API å¯†é’¥
export ANTHROPIC_API_KEY="your-api-key-here"

# éªŒè¯å®‰è£…
claude-code --version
```

#### 2. å®‰è£…ä¾èµ–å·¥å…·

**Ubuntu/Debian:**
```bash
sudo apt-get update
sudo apt-get install tmux
```

**macOS:**
```bash
# å®‰è£… tmux
brew install tmux

# å®‰è£… GNU coreutilsï¼ˆæä¾› timeout å‘½ä»¤ï¼‰
brew install coreutils

# éªŒè¯å®‰è£…
gtimeout --version
```

**CentOS/RHEL:**
```bash
sudo yum install tmux
```

#### 3. å®‰è£… Ralph

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/frankbria/ralph-claude-code.git
cd ralph-claude-code

# è¿è¡Œå®‰è£…è„šæœ¬ï¼ˆå…¨å±€å®‰è£…ï¼‰
./install.sh

# éªŒè¯å®‰è£…
ralph --help
```

### åˆ›å»ºç¬¬ä¸€ä¸ªé¡¹ç›®

```mermaid
graph TD
    Start([åˆ›å»ºæ–°é¡¹ç›®]) --> Setup[ralph-setup project-name]
    Setup --> Structure[ç”Ÿæˆé¡¹ç›®ç»“æ„]
    Structure --> Files{é¡¹ç›®æ–‡ä»¶}
    
    Files -->|é…ç½®| Config[.ralphrc<br/>é…ç½®æ–‡ä»¶]
    Files -->|æç¤ºè¯| Prompt[PROMPT.md<br/>ä»»åŠ¡æè¿°]
    Files -->|è®¡åˆ’| Plan[fix_plan.md<br/>æ‰§è¡Œè®¡åˆ’]
    Files -->|æ—¥å¿—| Logs[.ralph/logs/<br/>æ—¥å¿—ç›®å½•]
    
    Config --> Edit[ç¼–è¾‘ PROMPT.md<br/>å®šä¹‰å¼€å‘ä»»åŠ¡]
    Prompt --> Edit
    Plan --> Edit
    Logs --> Edit
    
    Edit --> Run[ralph --monitor<br/>å¯åŠ¨å¼€å‘å¾ªç¯]
    Run --> Monitor[å®æ—¶ç›‘æ§è¿›åº¦]
    
    style Start fill:#e1f5e1
    style Run fill:#e1e5ff
    style Monitor fill:#fff4e1
```

**å®é™…æ“ä½œï¼š**

```bash
# 1. åˆ›å»ºæ–°é¡¹ç›®
ralph-setup my-awesome-app

# 2. è¿›å…¥é¡¹ç›®ç›®å½•
cd my-awesome-app

# 3. ç¼–è¾‘ PROMPT.mdï¼Œæè¿°ä½ çš„é¡¹ç›®éœ€æ±‚
cat > PROMPT.md << 'EOF'
# é¡¹ç›®ç›®æ ‡
åˆ›å»ºä¸€ä¸ªç®€å•çš„ Todo åº”ç”¨

## æŠ€æœ¯æ ˆ
- å‰ç«¯ï¼šReact + TypeScript
- åç«¯ï¼šNode.js + Express
- æ•°æ®åº“ï¼šPostgreSQL

## åŠŸèƒ½éœ€æ±‚
1. ç”¨æˆ·å¯ä»¥æ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤å¾…åŠäº‹é¡¹
2. å¾…åŠäº‹é¡¹å¯ä»¥æ ‡è®°ä¸ºå®Œæˆ/æœªå®Œæˆ
3. æ”¯æŒæŒ‰çŠ¶æ€ç­›é€‰
4. å“åº”å¼è®¾è®¡

## å®Œæˆæ ‡å‡†
- æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- ä»£ç æœ‰é€‚å½“çš„æ³¨é‡Š
- åŒ…å«åŸºæœ¬çš„é”™è¯¯å¤„ç†
- é€šè¿‡åŸºæœ¬æµ‹è¯•

EXIT_SIGNAL: true
EOF

# 4. å¯åŠ¨ Ralphï¼ˆå¸¦ç›‘æ§ï¼‰
ralph --monitor
```

## æ ¸å¿ƒå‘½ä»¤è¯¦è§£

### é¡¹ç›®ç®¡ç†å‘½ä»¤

```mermaid
graph TB
    subgraph é¡¹ç›®åˆå§‹åŒ–
        A[ralph-setup project-name<br/>åˆ›å»ºæ–°é¡¹ç›®] 
        B[ralph-enable<br/>åœ¨ç°æœ‰é¡¹ç›®å¯ç”¨<br/>äº¤äº’å¼]
        C[ralph-enable-ci<br/>åœ¨ç°æœ‰é¡¹ç›®å¯ç”¨<br/>éäº¤äº’å¼]
        D[ralph-import prd.md project<br/>ä»PRDè½¬æ¢ä¸ºé¡¹ç›®]
    end
    
    subgraph é¡¹ç›®è¿ç§»
        E[ralph-migrate<br/>è¿ç§»åˆ°.ralph/ç»“æ„]
    end
    
    subgraph ä¼šè¯ç®¡ç†
        F[ralph --reset-session<br/>é‡ç½®ä¼šè¯çŠ¶æ€]
    end
    
    style A fill:#e1f5e1
    style B fill:#e1f5e1
    style E fill:#fff4e1
    style F fill:#ffe1e1
```

### Ralph å¾ªç¯é€‰é¡¹

**åŸºç¡€ç”¨æ³•ï¼š**
```bash
ralph [OPTIONS]
```

**å¸¸ç”¨é€‰é¡¹ï¼š**

| é€‰é¡¹ | ç®€å†™ | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|------|--------|
| `--help` | `-h` | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ | - |
| `--calls NUM` | `-c` | æ¯å°æ—¶æœ€å¤§è°ƒç”¨æ¬¡æ•° | 100 |
| `--prompt FILE` | `-p` | æŒ‡å®šæç¤ºè¯æ–‡ä»¶ | PROMPT.md |
| `--status` | `-s` | æ˜¾ç¤ºå½“å‰çŠ¶æ€å¹¶é€€å‡º | - |
| `--monitor` | `-m` | å¯åŠ¨ tmux ä¼šè¯å’Œå®æ—¶ç›‘æ§ | - |
| `--verbose` | `-v` | æ˜¾ç¤ºè¯¦ç»†è¿›åº¦æ›´æ–° | - |
| `--timeout MIN` | `-t` | Claude Code æ‰§è¡Œè¶…æ—¶ï¼ˆåˆ†é’Ÿï¼‰ | 15 |
| `--output-format` | - | è¾“å‡ºæ ¼å¼ï¼šjson æˆ– text | json |
| `--no-continue` | - | ç¦ç”¨ä¼šè¯è¿ç»­æ€§ | - |
| `--reset-circuit` | - | é‡ç½®æ–­è·¯å™¨ | - |
| `--circuit-status` | - | æ˜¾ç¤ºæ–­è·¯å™¨çŠ¶æ€ | - |
| `--reset-session` | - | æ‰‹åŠ¨é‡ç½®ä¼šè¯çŠ¶æ€ | - |

**ç¤ºä¾‹ç”¨æ³•ï¼š**

```bash
# å¯åŠ¨å¸¦ç›‘æ§çš„å¼€å‘å¾ªç¯
ralph --monitor

# é™åˆ¶æ¯å°æ—¶50æ¬¡APIè°ƒç”¨
ralph --calls 50

# è®¾ç½®30åˆ†é’Ÿè¶…æ—¶
ralph --timeout 30

# ä½¿ç”¨è‡ªå®šä¹‰æç¤ºè¯æ–‡ä»¶
ralph --prompt custom-task.md

# è¯¦ç»†æ¨¡å¼è¿è¡Œ
ralph --verbose

# æŸ¥çœ‹å½“å‰çŠ¶æ€ï¼ˆJSONæ ¼å¼ï¼‰
ralph --status

# æŸ¥çœ‹å½“å‰çŠ¶æ€ï¼ˆæ–‡æœ¬æ ¼å¼ï¼‰
ralph --status --output-format text

# é‡ç½®ä¼šè¯å¹¶å¼€å§‹æ–°å¾ªç¯
ralph --reset-session --monitor
```

### ç›‘æ§å‘½ä»¤

```mermaid
graph LR
    A[ç›‘æ§æ–¹å¼] --> B[ralph --monitor<br/>é›†æˆç›‘æ§<br/>æ¨è]
    A --> C[ralph-monitor<br/>ç‹¬ç«‹ç›‘æ§<br/>éœ€æ‰‹åŠ¨å¯åŠ¨]
    A --> D[ralph --status<br/>çŠ¶æ€æŸ¥è¯¢<br/>ä¸€æ¬¡æ€§]
    
    B --> E[tmux åˆ†å±æ˜¾ç¤º]
    C --> E
    
    E --> F[å·¦ä¾§ï¼šRalphè¿è¡Œ]
    E --> G[å³ä¾§ï¼šå®æ—¶ä»ªè¡¨ç›˜]
    
    style B fill:#90EE90
    style E fill:#e1e5ff
```

**tmux å¿«æ·é”®ï¼š**

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `Ctrl+B` ç„¶å `D` | åˆ†ç¦»ä¼šè¯ï¼ˆä¿æŒè¿è¡Œï¼‰ |
| `Ctrl+B` ç„¶å `â†/â†’` | åˆ‡æ¢é¢æ¿ |
| `tmux list-sessions` | æŸ¥çœ‹æ‰€æœ‰ä¼šè¯ |
| `tmux attach -t <name>` | é‡æ–°è¿æ¥ä¼šè¯ |

## é…ç½®æ–‡ä»¶è¯¦è§£

### .ralphrc é…ç½®

Ralph æ”¯æŒé¡¹ç›®çº§é…ç½®æ–‡ä»¶ `.ralphrc`ï¼Œæ”¯æŒ JSON æˆ– Bash æ ¼å¼ï¼š

**JSON æ ¼å¼ï¼š**
```json
{
  "MAX_CALLS_PER_HOUR": 100,
  "EXECUTION_TIMEOUT_MINUTES": 15,
  "PROMPT_FILE": "PROMPT.md",
  "OUTPUT_FORMAT": "json",
  "ALLOWED_TOOLS": "Write,Read,Edit,Bash(git *),Bash(npm *),Bash(pytest)",
  "SESSION_CONTINUITY": true,
  "VERBOSE": false
}
```

**Bash æ ¼å¼ï¼š**
```bash
MAX_CALLS_PER_HOUR=100
EXECUTION_TIMEOUT_MINUTES=15
PROMPT_FILE="PROMPT.md"
OUTPUT_FORMAT="json"
ALLOWED_TOOLS="Write,Read,Edit,Bash(git *),Bash(npm *),Bash(pytest)"
SESSION_CONTINUITY=true
VERBOSE=false
```

### PROMPT.md æç¤ºè¯ç»“æ„

```markdown
# é¡¹ç›®ç›®æ ‡
[æ¸…æ™°æè¿°é¡¹ç›®çš„æ€»ä½“ç›®æ ‡]

## æŠ€æœ¯è¦æ±‚
[åˆ—å‡ºä½¿ç”¨çš„æŠ€æœ¯æ ˆå’Œå·¥å…·]

## åŠŸèƒ½éœ€æ±‚
[è¯¦ç»†çš„åŠŸèƒ½åˆ—è¡¨ï¼Œä½¿ç”¨ç¼–å·æˆ–é¡¹ç›®ç¬¦å·]

## å®Œæˆæ ‡å‡†
[å®šä¹‰ä»»åŠ¡ä½•æ—¶ç®—å®Œæˆ]

## çº¦æŸæ¡ä»¶
[ä»»ä½•é™åˆ¶æˆ–ç‰¹æ®Šè¦æ±‚]

EXIT_SIGNAL: [true/false]
```

**æœ€ä½³å®è·µï¼š**

```mermaid
graph TD
    A[ç¼–å†™ä¼˜ç§€çš„ PROMPT.md] --> B[æ˜ç¡®ç›®æ ‡]
    A --> C[åˆ†è§£ä»»åŠ¡]
    A --> D[å®šä¹‰æ ‡å‡†]
    A --> E[è®¾ç½® EXIT_SIGNAL]
    
    B --> B1[ä½¿ç”¨æ¸…æ™°çš„è¯­è¨€]
    B --> B2[é¿å…æ¨¡ç³Šè¡¨è¿°]
    
    C --> C1[æŒ‰ä¼˜å…ˆçº§æ’åº]
    C --> C2[åŒ…å«éªŒæ”¶æ ‡å‡†]
    
    D --> D1[å¯æµ‹é‡çš„æŒ‡æ ‡]
    D --> D2[æ˜ç¡®çš„å®Œæˆæ¡ä»¶]
    
    E --> E1[ä»»åŠ¡å®Œæˆæ—¶è®¾ä¸º true]
    E --> E2[å…è®¸ Claude è‡ªä¸»åˆ¤æ–­]
    
    style A fill:#FFD700
    style E1 fill:#90EE90
```

### fix_plan.md è®¡åˆ’æ–‡ä»¶

Ralph ä¼šè‡ªåŠ¨ç»´æŠ¤ `fix_plan.md`ï¼Œè®°å½•ï¼š
- å½“å‰ä»»åŠ¡è¿›åº¦
- å·²å®Œæˆçš„æ­¥éª¤
- å¾…å¤„ç†çš„å·¥ä½œ
- é‡åˆ°çš„é—®é¢˜

**ä¸è¦æ‰‹åŠ¨ç¼–è¾‘æ­¤æ–‡ä»¶**ï¼Œè®© Claude è‡ªåŠ¨æ›´æ–°ã€‚

## ç›‘æ§å’Œè°ƒè¯•

### å®æ—¶ä»ªè¡¨ç›˜

```mermaid
graph TB
    subgraph Ralph ç›‘æ§ä»ªè¡¨ç›˜
        A[å®æ—¶çŠ¶æ€] --> A1[å¾ªç¯è®¡æ•°]
        A --> A2[APIè°ƒç”¨ç»Ÿè®¡]
        A --> A3[é€Ÿç‡é™åˆ¶çŠ¶æ€]
        
        B[æ—¥å¿—ä¿¡æ¯] --> B1[æœ€è¿‘10æ¡æ—¥å¿—]
        B --> B2[é”™è¯¯å’Œè­¦å‘Š]
        B --> B3[æ—¶é—´æˆ³]
        
        C[ä¼šè¯ä¿¡æ¯] --> C1[ä¼šè¯å¹´é¾„]
        C --> C2[ä¼šè¯ID]
        C --> C3[é‡ç½®è§¦å‘å™¨]
        
        D[æ–­è·¯å™¨çŠ¶æ€] --> D1[å½“å‰çŠ¶æ€]
        D --> D2[å¤±è´¥è®¡æ•°]
        D --> D3[æ¢å¤æ—¶é—´]
    end
    
    style A fill:#e1f5e1
    style B fill:#fff4e1
    style C fill:#e1e5ff
    style D fill:#ffe1e1
```

### æ—¥å¿—ç³»ç»Ÿ

```bash
# å®æ—¶æŸ¥çœ‹æ—¥å¿—
tail -f .ralph/logs/ralph.log

# æŸ¥çœ‹æœ€è¿‘50è¡Œ
tail -n 50 .ralph/logs/ralph.log

# æœç´¢ç‰¹å®šå†…å®¹
grep "ERROR" .ralph/logs/ralph.log

# æŸ¥çœ‹çŠ¶æ€æ–‡ä»¶
cat .ralph/logs/status.json
```

**æ—¥å¿—çº§åˆ«ï¼š**
- `INFO` - ä¸€èˆ¬ä¿¡æ¯
- `WARNING` - è­¦å‘Šä¿¡æ¯
- `ERROR` - é”™è¯¯ä¿¡æ¯
- `CIRCUIT` - æ–­è·¯å™¨äº‹ä»¶
- `RATE_LIMIT` - é€Ÿç‡é™åˆ¶äº‹ä»¶

### çŠ¶æ€æ£€æŸ¥

```bash
# JSON æ ¼å¼çŠ¶æ€è¾“å‡º
ralph --status

# æ–‡æœ¬æ ¼å¼çŠ¶æ€è¾“å‡º
ralph --status --output-format text

# æ£€æŸ¥æ–­è·¯å™¨çŠ¶æ€
ralph --circuit-status
```

**çŠ¶æ€è¾“å‡ºç¤ºä¾‹ï¼š**
```json
{
  "status": "running",
  "loop_count": 15,
  "api_calls_this_hour": 42,
  "max_calls_per_hour": 100,
  "remaining_calls": 58,
  "last_execution": "2026-01-30T14:23:45+08:00",
  "session_age_hours": 2.5,
  "circuit_breaker": "closed"
}
```

## é«˜çº§åŠŸèƒ½

### æ–­è·¯å™¨æ¨¡å¼

```mermaid
stateDiagram-v2
    [*] --> Closed: æ­£å¸¸è¿è¡Œ
    Closed --> Open: è¿ç»­å¤±è´¥<br/>è¾¾åˆ°é˜ˆå€¼
    Open --> HalfOpen: è¶…æ—¶å<br/>å°è¯•æ¢å¤
    HalfOpen --> Closed: æˆåŠŸæ‰§è¡Œ
    HalfOpen --> Open: å†æ¬¡å¤±è´¥
    
    Closed: é—­åˆçŠ¶æ€<br/>æ­£å¸¸æ‰§è¡Œå‘½ä»¤
    Open: æ‰“å¼€çŠ¶æ€<br/>æ‹’ç»æ‰§è¡Œ<br/>ç­‰å¾…æ¢å¤
    HalfOpen: åŠå¼€çŠ¶æ€<br/>è¯•æ¢æ€§æ‰§è¡Œ
```

**æ–­è·¯å™¨é…ç½®ï¼š**
- **å¤±è´¥é˜ˆå€¼**ï¼šè¿ç»­5æ¬¡å¤±è´¥è§¦å‘ç†”æ–­
- **æ¢å¤æ—¶é—´**ï¼š300ç§’ï¼ˆ5åˆ†é’Ÿï¼‰
- **åŠå¼€æµ‹è¯•**ï¼šå•æ¬¡æˆåŠŸå³æ¢å¤

**æ‰‹åŠ¨æ§åˆ¶ï¼š**
```bash
# æŸ¥çœ‹æ–­è·¯å™¨çŠ¶æ€
ralph --circuit-status

# æ‰‹åŠ¨é‡ç½®æ–­è·¯å™¨
ralph --reset-circuit
```

### é€Ÿç‡é™åˆ¶

```mermaid
graph TB
    Request[API è¯·æ±‚] --> Counter{å½“å‰è®¡æ•°}
    Counter -->|< é™åˆ¶| Allow[å…è®¸æ‰§è¡Œ]
    Counter -->|>= é™åˆ¶| Block[é˜»æ­¢æ‰§è¡Œ]
    
    Allow --> Execute[æ‰§è¡Œ Claude Code]
    Execute --> Increment[è®¡æ•°å™¨+1]
    Increment --> Check{åˆ°è¾¾1å°æ—¶?}
    
    Block --> Wait[ç­‰å¾…è®¡æ•°å™¨é‡ç½®]
    Wait --> Display[æ˜¾ç¤ºå€’è®¡æ—¶]
    Display --> Reset[é‡ç½®è®¡æ•°å™¨]
    Reset --> Request
    
    Check -->|æ˜¯| Reset
    Check -->|å¦| Request
    
    style Allow fill:#90EE90
    style Block fill:#FFB6C1
```

**é€Ÿç‡é™åˆ¶ç‰¹æ€§ï¼š**
- é»˜è®¤ï¼š100æ¬¡è°ƒç”¨/å°æ—¶
- è‡ªåŠ¨å€’è®¡æ—¶æ˜¾ç¤º
- æ»‘åŠ¨çª—å£è®¡æ•°
- 5å°æ—¶APIé™åˆ¶æ£€æµ‹

### ä¼šè¯ç®¡ç†

```mermaid
graph TB
    Start[å¯åŠ¨ Ralph] --> LoadSession{ä¼šè¯<br/>å­˜åœ¨?}
    
    LoadSession -->|å¦| CreateNew[åˆ›å»ºæ–°ä¼šè¯]
    LoadSession -->|æ˜¯| CheckAge{æ£€æŸ¥<br/>å¹´é¾„}
    
    CheckAge -->|< 24h| CheckValidity{ä¼šè¯<br/>æœ‰æ•ˆ?}
    CheckAge -->|>= 24h| Expired[ä¼šè¯è¿‡æœŸ]
    
    CheckValidity -->|æ˜¯| Continue[ç»§ç»­ä½¿ç”¨]
    CheckValidity -->|å¦| Invalid[ä¼šè¯æ— æ•ˆ]
    
    Expired --> AutoReset[è‡ªåŠ¨é‡ç½®]
    Invalid --> AutoReset
    CreateNew --> Execute[æ‰§è¡Œå¾ªç¯]
    AutoReset --> Execute
    Continue --> Execute
    
    Execute --> Monitor[ç›‘æ§è§¦å‘å™¨]
    Monitor --> Trigger{é‡ç½®<br/>è§¦å‘?}
    
    Trigger -->|æ˜¯| ManualReset[é‡ç½®ä¼šè¯]
    Trigger -->|å¦| Execute
    ManualReset --> Execute
    
    style Continue fill:#90EE90
    style Expired fill:#FFB6C1
    style AutoReset fill:#FFD700
```

**ä¼šè¯é‡ç½®è§¦å‘å™¨ï¼š**
- ä¼šè¯è¶…è¿‡24å°æ—¶
- ä¼šè¯çŠ¶æ€æ— æ•ˆ
- æ‰‹åŠ¨æ‰§è¡Œ `--reset-session`
- Claude æ˜ç¡®æŒ‡ç¤ºéœ€è¦æ–°ä¸Šä¸‹æ–‡

### å…è®¸çš„å·¥å…·é…ç½®

Ralph å¯ä»¥ç²¾ç¡®æ§åˆ¶ Claude å¯ä»¥ä½¿ç”¨å“ªäº›å·¥å…·ï¼š

```bash
# é»˜è®¤å…è®¸çš„å·¥å…·
ralph --allowed-tools "Write,Read,Edit,Bash(git *),Bash(npm *),Bash(pytest)"

# åªå…è®¸è¯»å†™ï¼Œç¦æ­¢å‘½ä»¤æ‰§è¡Œ
ralph --allowed-tools "Write,Read,Edit"

# å…è®¸æ›´å¤šå‘½ä»¤
ralph --allowed-tools "Write,Read,Edit,Bash(*)"
```

**å·¥å…·ç±»å‹ï¼š**
- `Write` - åˆ›å»º/è¦†ç›–æ–‡ä»¶
- `Read` - è¯»å–æ–‡ä»¶
- `Edit` - ç¼–è¾‘æ–‡ä»¶
- `Bash(pattern)` - æ‰§è¡ŒåŒ¹é…æ¨¡å¼çš„å‘½ä»¤

## å¸¸è§é—®é¢˜è§£å†³

### é—®é¢˜è¯Šæ–­æµç¨‹

```mermaid
graph TD
    Problem[é‡åˆ°é—®é¢˜] --> Type{é—®é¢˜ç±»å‹}
    
    Type -->|é€Ÿç‡é™åˆ¶| R1[æ£€æŸ¥ API è°ƒç”¨è®¡æ•°]
    R1 --> R2[é™ä½ --calls å‚æ•°]
    R2 --> R3[ç­‰å¾…è®¡æ•°å™¨é‡ç½®]
    
    Type -->|å¾ªç¯å¡ä½| L1[æ£€æŸ¥ fix_plan.md]
    L1 --> L2[æŸ¥çœ‹æ˜¯å¦æœ‰å†²çªä»»åŠ¡]
    L2 --> L3[ç¼–è¾‘ PROMPT.md æ¾„æ¸…]
    
    Type -->|æå‰é€€å‡º| E1[æ£€æŸ¥é€€å‡ºé˜ˆå€¼]
    E1 --> E2[æŸ¥çœ‹ EXIT_SIGNAL]
    E2 --> E3[è°ƒæ•´å®Œæˆæ¡ä»¶]
    
    Type -->|æ‰§è¡Œè¶…æ—¶| T1[æ£€æŸ¥ä»»åŠ¡å¤æ‚åº¦]
    T1 --> T2[å¢åŠ  --timeout å€¼]
    T2 --> T3[åˆ†è§£ä¸ºæ›´å°ä»»åŠ¡]
    
    Type -->|ä¼šè¯é—®é¢˜| S1[æ£€æŸ¥ä¼šè¯å¹´é¾„]
    S1 --> S2[è¿è¡Œ --reset-session]
    S2 --> S3[æ¸…ç† .ralph ç›®å½•]
    
    Type -->|æ–­è·¯å™¨ç†”æ–­| C1[æŸ¥çœ‹ --circuit-status]
    C1 --> C2[è¿è¡Œ --reset-circuit]
    C2 --> C3[ä¿®å¤æ ¹æœ¬åŸå› ]
    
    style Problem fill:#FFB6C1
    style R2 fill:#90EE90
    style L3 fill:#90EE90
    style E3 fill:#90EE90
    style T2 fill:#90EE90
    style S2 fill:#90EE90
    style C2 fill:#90EE90
```

### å¸¸è§é—®é¢˜ Q&A

**Q1: Ralph ä¸€ç›´è¯´é‡åˆ°é€Ÿç‡é™åˆ¶æ€ä¹ˆåŠï¼Ÿ**

```bash
# é™ä½æ¯å°æ—¶è°ƒç”¨æ¬¡æ•°
ralph --calls 50

# æ£€æŸ¥å½“å‰çŠ¶æ€
ralph --status

# ç­‰å¾…è®¡æ•°å™¨è‡ªåŠ¨é‡ç½®ï¼ˆæ¯å°æ—¶ï¼‰
```

**Q2: å¾ªç¯åœ¨åŒä¸€ä¸ªåœ°æ–¹åå¤æ‰§è¡Œæ€ä¹ˆåŠï¼Ÿ**

æ£€æŸ¥ `fix_plan.md` ä¸­æ˜¯å¦æœ‰ä¸æ¸…æ™°æˆ–å†²çªçš„ä»»åŠ¡æè¿°ï¼š

```bash
# æŸ¥çœ‹è®¡åˆ’æ–‡ä»¶
cat fix_plan.md

# æ›´æ–° PROMPT.mdï¼Œæä¾›æ›´æ¸…æ™°çš„æŒ‡å¯¼
nano PROMPT.md

# é‡ç½®ä¼šè¯é‡æ–°å¼€å§‹
ralph --reset-session
```

**Q3: Claude æ˜æ˜å®Œæˆäº†ä»»åŠ¡ä½†æ²¡æœ‰é€€å‡ºï¼Ÿ**

ç¡®ä¿åœ¨ `PROMPT.md` ä¸­è®¾ç½®äº† EXIT_SIGNALï¼š

```markdown
## å®Œæˆæ ‡å‡†
- æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- æµ‹è¯•é€šè¿‡
- ä»£ç æœ‰æ–‡æ¡£

EXIT_SIGNAL: true
```

**Q4: macOS ä¸Šæç¤º "timeout: command not found"ï¼Ÿ**

```bash
# å®‰è£… GNU coreutils
brew install coreutils

# éªŒè¯å®‰è£…
gtimeout --version

# Ralph ä¼šè‡ªåŠ¨ä½¿ç”¨ gtimeout
```

**Q5: tmux ä¼šè¯ä¸¢å¤±äº†æ€ä¹ˆåŠï¼Ÿ**

```bash
# åˆ—å‡ºæ‰€æœ‰ä¼šè¯
tmux list-sessions

# é‡æ–°è¿æ¥
tmux attach -t ralph-my-project

# å¦‚æœä¼šè¯çœŸçš„ä¸¢å¤±ï¼Œé‡æ–°å¯åŠ¨
ralph --monitor
```

**Q6: 5å°æ—¶ API é™åˆ¶è§¦å‘åæ€ä¹ˆåŠï¼Ÿ**

Ralph ä¼šæ£€æµ‹åˆ°å¹¶æç¤ºä½ ï¼š

```
å·²è¾¾åˆ°5å°æ—¶APIé™åˆ¶ã€‚é€‰é¡¹ï¼š
1. ç­‰å¾…é™åˆ¶é‡ç½®
2. é€€å‡ºå¹¶ç¨åæ¢å¤
è¯·è¾“å…¥é€‰æ‹© (1/2):
```

å»ºè®®ï¼š
- é€‰æ‹©ç­‰å¾…ï¼ˆRalph ä¼šè‡ªåŠ¨å€’è®¡æ—¶ï¼‰
- æˆ–è€…åˆ†ç¦» tmux ä¼šè¯ç¨åå›æ¥
- æ£€æŸ¥ä»»åŠ¡æ˜¯å¦è¿‡äºå¤æ‚ï¼Œè€ƒè™‘åˆ†è§£

**Q7: æ‰§è¡Œç»å¸¸è¶…æ—¶æ€ä¹ˆåŠï¼Ÿ**

```bash
# å¢åŠ è¶…æ—¶æ—¶é—´ï¼ˆå•ä½ï¼šåˆ†é’Ÿï¼‰
ralph --timeout 30

# å¯¹äºç‰¹åˆ«å¤æ‚çš„ä»»åŠ¡
ralph --timeout 60

# æ£€æŸ¥ä»»åŠ¡æ˜¯å¦å¤ªå¤§ï¼Œè€ƒè™‘åˆ†è§£ä¸ºå¤šä¸ªå°ä»»åŠ¡
```

## æœ€ä½³å®è·µ

### 1. ç¼–å†™é«˜è´¨é‡æç¤ºè¯

```mermaid
graph LR
    A[å¥½çš„ PROMPT.md] --> B[æ¸…æ™°ç›®æ ‡]
    A --> C[åˆ†è§£ä»»åŠ¡]
    A --> D[å¯éªŒè¯æ ‡å‡†]
    A --> E[åˆç†èŒƒå›´]
    
    B --> B1[å…·ä½“è€Œéæ¨¡ç³Š]
    C --> C1[ä¼˜å…ˆçº§æ’åº]
    D --> D1[å¯æµ‹é‡çš„æŒ‡æ ‡]
    E --> E1[é€‚åˆä¸€æ¬¡å®Œæˆ]
    
    style A fill:#FFD700
    style B1 fill:#90EE90
    style C1 fill:#90EE90
    style D1 fill:#90EE90
    style E1 fill:#90EE90
```

**ç¤ºä¾‹å¯¹æ¯”ï¼š**

âŒ **ä¸å¥½çš„æç¤ºè¯ï¼š**
```markdown
# ç›®æ ‡
åšä¸€ä¸ªç½‘ç«™
```

âœ… **å¥½çš„æç¤ºè¯ï¼š**
```markdown
# é¡¹ç›®ç›®æ ‡
åˆ›å»ºä¸€ä¸ªç®€å•çš„åšå®¢ç³»ç»Ÿ

## æŠ€æœ¯æ ˆ
- å‰ç«¯ï¼šReact 18 + TypeScript
- è·¯ç”±ï¼šReact Router v6
- æ ·å¼ï¼šTailwind CSS
- æ„å»ºï¼šVite

## æ ¸å¿ƒåŠŸèƒ½
1. æ–‡ç« åˆ—è¡¨é¡µï¼ˆåˆ†é¡µï¼Œæ¯é¡µ10ç¯‡ï¼‰
2. æ–‡ç« è¯¦æƒ…é¡µï¼ˆMarkdownæ¸²æŸ“ï¼‰
3. æ ‡ç­¾ç­›é€‰åŠŸèƒ½
4. å“åº”å¼è®¾è®¡ï¼ˆç§»åŠ¨ç«¯ä¼˜å…ˆï¼‰

## å®Œæˆæ ‡å‡†
- æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- ä»£ç æœ‰ TypeScript ç±»å‹å®šä¹‰
- åŒ…å«åŸºæœ¬çš„é”™è¯¯å¤„ç†
- éµå¾ª React æœ€ä½³å®è·µ
- é€šè¿‡ ESLint æ£€æŸ¥

EXIT_SIGNAL: true
```

### 2. ä»»åŠ¡èŒƒå›´æ§åˆ¶

```mermaid
graph TB
    Task[å¼€å‘ä»»åŠ¡] --> Size{ä»»åŠ¡å¤§å°}
    
    Size -->|å°| Small[< 100 API calls<br/>ç›´æ¥æ‰§è¡Œ]
    Size -->|ä¸­| Medium[100-300 calls<br/>ç›‘æ§æ‰§è¡Œ]
    Size -->|å¤§| Large[> 300 calls<br/>éœ€è¦åˆ†è§£]
    
    Small --> Direct[ralph --monitor]
    
    Medium --> Monitor[ralph --monitor<br/>--calls 100]
    
    Large --> Split[åˆ†è§£ä¸ºå­ä»»åŠ¡]
    Split --> Sub1[å­ä»»åŠ¡1]
    Split --> Sub2[å­ä»»åŠ¡2]
    Split --> Sub3[å­ä»»åŠ¡3]
    
    Sub1 --> Sequential[é¡ºåºæ‰§è¡Œ]
    Sub2 --> Sequential
    Sub3 --> Sequential
    
    style Small fill:#90EE90
    style Medium fill:#FFD700
    style Large fill:#FFB6C1
```

**å»ºè®®ï¼š**
- **å°ä»»åŠ¡ï¼ˆ< 2å°æ—¶ï¼‰**ï¼šç›´æ¥è¿è¡Œ
- **ä¸­ç­‰ä»»åŠ¡ï¼ˆ2-5å°æ—¶ï¼‰**ï¼šä½¿ç”¨ç›‘æ§ï¼Œè®¾ç½®åˆç†çš„è°ƒç”¨é™åˆ¶
- **å¤§ä»»åŠ¡ï¼ˆ> 5å°æ—¶ï¼‰**ï¼šåˆ†è§£ä¸ºå¤šä¸ªç‹¬ç«‹çš„å­é¡¹ç›®

### 3. ç›‘æ§ç­–ç•¥

```bash
# çŸ­æœŸä»»åŠ¡ï¼šå¿«é€Ÿæ£€æŸ¥
ralph --status

# ä¸­æœŸä»»åŠ¡ï¼šå¯ç”¨ç›‘æ§
ralph --monitor

# é•¿æœŸä»»åŠ¡ï¼šåˆ†ç¦»ä¼šè¯
ralph --monitor
# æŒ‰ Ctrl+B ç„¶å D åˆ†ç¦»
# ç¨å tmux attach é‡æ–°è¿æ¥
```

### 4. å®‰å…¨å®è·µ

```mermaid
graph TD
    A[å®‰å…¨å®è·µ] --> B[ç‰ˆæœ¬æ§åˆ¶]
    A --> C[å¤‡ä»½é‡è¦æ–‡ä»¶]
    A --> D[é™åˆ¶å·¥å…·æƒé™]
    A --> E[ç›‘æ§ API ä½¿ç”¨]
    
    B --> B1[ä½¿ç”¨ git]
    B --> B2[å®šæœŸæäº¤]
    
    C --> C1[å¤‡ä»½é…ç½®]
    C --> C2[ä¿å­˜å…³é”®æ•°æ®]
    
    D --> D1[é™åˆ¶ Bash å‘½ä»¤]
    D --> D2[ä½¿ç”¨ --allowed-tools]
    
    E --> E1[è®¾ç½®åˆç†çš„ --calls]
    E --> E2[æ£€æŸ¥æˆæœ¬]
    
    style A fill:#FFD700
```

**æ¨èé…ç½®ï¼š**

```bash
# åˆå§‹åŒ– gitï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
git init
echo ".ralph/logs/" >> .gitignore
git add .
git commit -m "Initial commit before Ralph run"

# ä½¿ç”¨å®‰å…¨çš„å·¥å…·é™åˆ¶
ralph --monitor \
  --calls 80 \
  --timeout 20 \
  --allowed-tools "Write,Read,Edit,Bash(git *),Bash(npm test),Bash(pytest)"
```

### 5. æˆæœ¬ä¼˜åŒ–

```mermaid
graph LR
    A[é™ä½æˆæœ¬] --> B[å‡å°‘è°ƒç”¨æ¬¡æ•°]
    A --> C[ä¼˜åŒ–æç¤ºè¯]
    A --> D[ä½¿ç”¨ç¼“å­˜]
    A --> E[åˆ†é˜¶æ®µå¼€å‘]
    
    B --> B1[--calls 50]
    C --> C1[æ›´ç²¾ç¡®çš„æè¿°]
    D --> D1[ä¼šè¯è¿ç»­æ€§]
    E --> E1[MVP ä¼˜å…ˆ]
    
    style A fill:#FFD700
    style B1 fill:#90EE90
    style C1 fill:#90EE90
    style D1 fill:#90EE90
    style E1 fill:#90EE90
```

## å¼€å‘è·¯çº¿å›¾

### å½“å‰ç‰ˆæœ¬ï¼šv0.11.2

```mermaid
gantt
    title Ralph å¼€å‘è·¯çº¿å›¾
    dateFormat YYYY-MM-DD
    section å·²å®Œæˆ v0.11.2
    æ ¸å¿ƒå¾ªç¯åŠŸèƒ½           :done, 2025-12-01, 2025-12-15
    æ™ºèƒ½é€€å‡ºæ£€æµ‹           :done, 2025-12-15, 2025-12-20
    é€Ÿç‡é™åˆ¶å’Œæ–­è·¯å™¨       :done, 2025-12-20, 2025-12-25
    tmux é›†æˆ             :done, 2025-12-25, 2026-01-01
    ä¼šè¯ç®¡ç†              :done, 2026-01-01, 2026-01-05
    440 ä¸ªæµ‹è¯•            :done, 2026-01-05, 2026-01-15
    
    section è¿›è¡Œä¸­ v0.12.x
    å¢å¼ºæµ‹è¯•è¦†ç›–           :active, 2026-01-20, 2026-02-05
    æ—¥å¿—è½®è½¬åŠŸèƒ½           :active, 2026-01-25, 2026-02-10
    
    section è®¡åˆ’ä¸­ v1.0.0
    å¹²è¿è¡Œæ¨¡å¼             :2026-02-10, 2026-02-20
    æŒ‡æ ‡å’Œåˆ†æ             :2026-02-15, 2026-02-25
    æ¡Œé¢é€šçŸ¥              :2026-02-20, 2026-03-01
    Git å¤‡ä»½å’Œå›æ»š         :2026-02-25, 2026-03-05
    æœ€ç»ˆæ–‡æ¡£å’Œå‘å¸ƒ         :2026-03-05, 2026-03-15
```

### å³å°†åˆ°æ¥çš„åŠŸèƒ½

**v0.12.xï¼ˆçº¦2å‘¨ï¼‰**
- âœ… å®‰è£…å’Œè®¾ç½®å·¥ä½œæµæµ‹è¯•
- âœ… tmux é›†æˆæµ‹è¯•
- âœ… ç›‘æ§ä»ªè¡¨ç›˜æµ‹è¯•
- ğŸ”„ æ—¥å¿—è½®è½¬åŠŸèƒ½
- ğŸ”„ å¹²è¿è¡Œæ¨¡å¼

**v1.0.0ï¼ˆçº¦4å‘¨ï¼‰**
- ğŸ“‹ æŒ‡æ ‡å’Œåˆ†æè·Ÿè¸ª
- ğŸ“‹ æ¡Œé¢é€šçŸ¥æ”¯æŒ
- ğŸ“‹ Git å¤‡ä»½å’Œå›æ»šç³»ç»Ÿ
- ğŸ“‹ ç«¯åˆ°ç«¯æµ‹è¯•
- ğŸ“‹ å®Œæ•´æ–‡æ¡£å’Œå‘å¸ƒå‡†å¤‡

### å¦‚ä½•è´¡çŒ®

Ralph æ­£åœ¨ç§¯æå¯»æ‰¾è´¡çŒ®è€…ï¼æŸ¥çœ‹ [CONTRIBUTING.md](https://github.com/frankbria/ralph-claude-code/blob/main/CONTRIBUTING.md) äº†è§£è¯¦æƒ…ã€‚

**ä¼˜å…ˆè´¡çŒ®é¢†åŸŸï¼š**

```mermaid
mindmap
  root((è´¡çŒ®æœºä¼š))
    æµ‹è¯•å®ç°
      æ‰©å±•æµ‹è¯•è¦†ç›–
      è¾¹ç¼˜æ¡ˆä¾‹æµ‹è¯•
      æ€§èƒ½æµ‹è¯•
    åŠŸèƒ½å¼€å‘
      æ—¥å¿—è½®è½¬
      å¹²è¿è¡Œæ¨¡å¼
      æŒ‡æ ‡ç³»ç»Ÿ
    æ–‡æ¡£
      æ•™ç¨‹ç¼–å†™
      æ•…éšœæ’é™¤æŒ‡å—
      ä½¿ç”¨ç¤ºä¾‹
    å®æˆ˜åé¦ˆ
      Bug æŠ¥å‘Š
      åŠŸèƒ½å»ºè®®
      ç”¨æˆ·ä½“éªŒæ”¹è¿›
```

## å®æˆ˜æ¡ˆä¾‹

### æ¡ˆä¾‹1ï¼šåˆ›å»ºå…¨æ ˆåº”ç”¨

```bash
# 1. åˆ›å»ºé¡¹ç›®
ralph-setup fullstack-todo-app
cd fullstack-todo-app

# 2. ç¼–å†™ PROMPT.md
cat > PROMPT.md << 'EOF'
# å…¨æ ˆ Todo åº”ç”¨

## æŠ€æœ¯æ ˆ
- å‰ç«¯ï¼šReact 18 + TypeScript + Vite
- åç«¯ï¼šNode.js + Express + TypeScript
- æ•°æ®åº“ï¼šSQLiteï¼ˆå¼€å‘ï¼‰+ Prisma ORM
- æ ·å¼ï¼šTailwind CSS

## é¡¹ç›®ç»“æ„
```
/client - React å‰ç«¯
/server - Express åç«¯
/shared - å…±äº«ç±»å‹å®šä¹‰
```

## åŠŸèƒ½éœ€æ±‚
### åç«¯ API
1. POST /api/todos - åˆ›å»ºå¾…åŠäº‹é¡¹
2. GET /api/todos - è·å–æ‰€æœ‰å¾…åŠäº‹é¡¹
3. PATCH /api/todos/:id - æ›´æ–°å¾…åŠäº‹é¡¹
4. DELETE /api/todos/:id - åˆ é™¤å¾…åŠäº‹é¡¹

### å‰ç«¯åŠŸèƒ½
1. å¾…åŠåˆ—è¡¨æ˜¾ç¤º
2. æ·»åŠ æ–°å¾…åŠ
3. åˆ‡æ¢å®ŒæˆçŠ¶æ€
4. åˆ é™¤å¾…åŠ
5. æŒ‰çŠ¶æ€ç­›é€‰ï¼ˆå…¨éƒ¨/è¿›è¡Œä¸­/å·²å®Œæˆï¼‰
6. å“åº”å¼è®¾è®¡

## å¼€å‘æ­¥éª¤
1. åˆå§‹åŒ–é¡¹ç›®ç»“æ„
2. è®¾ç½® Prisma å’Œæ•°æ®åº“
3. å®ç°åç«¯ API
4. åˆ›å»ºå‰ç«¯ç»„ä»¶
5. è¿æ¥å‰åç«¯
6. æ·»åŠ æ ·å¼
7. æµ‹è¯•æ‰€æœ‰åŠŸèƒ½

## å®Œæˆæ ‡å‡†
- æ‰€æœ‰ API ç«¯ç‚¹æ­£å¸¸å·¥ä½œ
- å‰ç«¯æ‰€æœ‰åŠŸèƒ½å¯ç”¨
- æ²¡æœ‰ TypeScript é”™è¯¯
- æ²¡æœ‰ ESLint è­¦å‘Š
- ä»£ç æœ‰é€‚å½“æ³¨é‡Š
- README åŒ…å«è¿è¡Œè¯´æ˜

EXIT_SIGNAL: true
EOF

# 3. å¯åŠ¨ Ralph
ralph --monitor --calls 80 --timeout 25
```

### æ¡ˆä¾‹2ï¼šé‡æ„ç°æœ‰é¡¹ç›®

```bash
# 1. åœ¨ç°æœ‰é¡¹ç›®ä¸­å¯ç”¨ Ralph
cd my-existing-project
ralph-enable

# 2. åˆ›å»ºé‡æ„ä»»åŠ¡
cat > REFACTOR_TASK.md << 'EOF'
# ä»£ç é‡æ„ä»»åŠ¡

## ç›®æ ‡
å°†ç°æœ‰çš„ JavaScript ä»£ç åº“è¿ç§»åˆ° TypeScript

## å½“å‰çŠ¶æ€
- é¡¹ç›®ä½¿ç”¨ JavaScript + JSDoc
- çº¦30ä¸ªæºæ–‡ä»¶
- React ç»„ä»¶åº“

## é‡æ„æ­¥éª¤
1. å®‰è£… TypeScript ä¾èµ–
2. åˆ›å»º tsconfig.json
3. å°† .js æ–‡ä»¶é‡å‘½åä¸º .tsx/.ts
4. æ·»åŠ ç±»å‹å®šä¹‰
5. ä¿®å¤ç±»å‹é”™è¯¯
6. æ›´æ–°æ„å»ºé…ç½®
7. æ›´æ–°æ–‡æ¡£

## è´¨é‡è¦æ±‚
- æ—  TypeScript é”™è¯¯
- ä¿æŒç°æœ‰åŠŸèƒ½ä¸å˜
- æ·»åŠ é€‚å½“çš„ç±»å‹æ³¨è§£
- æ›´æ–°æµ‹è¯•ï¼ˆå¦‚æœæœ‰ï¼‰

EXIT_SIGNAL: true
EOF

# 3. è¿è¡Œé‡æ„ä»»åŠ¡
ralph --prompt REFACTOR_TASK.md --monitor --timeout 30
```

### æ¡ˆä¾‹3ï¼šä» PRD åˆ›å»ºé¡¹ç›®

```bash
# 1. å‡†å¤‡ PRD æ–‡æ¡£
cat > product_requirements.md << 'EOF'
# äº§å“éœ€æ±‚æ–‡æ¡£ï¼šå¤©æ°”é¢„æŠ¥åº”ç”¨

## äº§å“æ¦‚è¿°
ä¸€ä¸ªç®€æ´çš„å¤©æ°”é¢„æŠ¥ Web åº”ç”¨ï¼Œæ˜¾ç¤ºå½“å‰å¤©æ°”å’Œæœªæ¥5å¤©é¢„æŠ¥ã€‚

## åŠŸèƒ½éœ€æ±‚

### æ ¸å¿ƒåŠŸèƒ½
1. åŸå¸‚æœç´¢
   - ç”¨æˆ·å¯ä»¥æœç´¢ä»»æ„åŸå¸‚
   - æ”¯æŒè‡ªåŠ¨å®Œæˆ
   - ä¿å­˜æœ€è¿‘æœç´¢å†å²

2. å¤©æ°”æ˜¾ç¤º
   - å½“å‰æ¸©åº¦å’Œå¤©æ°”çŠ¶å†µ
   - æ¹¿åº¦ã€é£é€Ÿã€æ°”å‹
   - æœªæ¥5å¤©é¢„æŠ¥
   - å¤©æ°”å›¾æ ‡

3. ç”¨æˆ·ä½“éªŒ
   - å“åº”å¼è®¾è®¡
   - æš—é»‘æ¨¡å¼åˆ‡æ¢
   - ä½ç½®æƒé™ï¼ˆå¯é€‰ï¼‰

## æŠ€æœ¯è¦æ±‚
- ä½¿ç”¨å…è´¹å¤©æ°” APIï¼ˆOpenWeatherMapï¼‰
- å‰ç«¯æ¡†æ¶ï¼šReact
- çŠ¶æ€ç®¡ç†ï¼šContext API
- æ ·å¼ï¼šCSS Modules

## éåŠŸèƒ½æ€§éœ€æ±‚
- åŠ è½½æ—¶é—´ < 2ç§’
- ç§»åŠ¨ç«¯å‹å¥½
- ç¦»çº¿ç¼“å­˜æœ€åæŸ¥è¯¢
EOF

# 2. ä» PRD å¯¼å…¥é¡¹ç›®
ralph-import product_requirements.md weather-app

# 3. å¯åŠ¨å¼€å‘
cd weather-app
ralph --monitor
```

## æ€§èƒ½å’Œé™åˆ¶

### API ä½¿ç”¨ä¼°ç®—

```mermaid
graph TB
    subgraph ä»»åŠ¡å¤æ‚åº¦ä¸ API è°ƒç”¨
        A[ç®€å•ä»»åŠ¡<br/>å•æ–‡ä»¶ä¿®æ”¹] --> A1[10-30 calls<br/>~10åˆ†é’Ÿ]
        B[ä¸­ç­‰ä»»åŠ¡<br/>å¤šæ–‡ä»¶åŠŸèƒ½] --> B1[50-150 calls<br/>~1å°æ—¶]
        C[å¤æ‚ä»»åŠ¡<br/>å…¨æ ˆåº”ç”¨] --> C1[200-500 calls<br/>~3-5å°æ—¶]
        D[å¤§å‹é¡¹ç›®<br/>ä¼ä¸šåº”ç”¨] --> D1[500+ calls<br/>éœ€è¦åˆ†è§£]
    end
    
    style A1 fill:#90EE90
    style B1 fill:#FFD700
    style C1 fill:#FFA500
    style D1 fill:#FFB6C1
```

### èµ„æºæ¶ˆè€—

| èµ„æº | ä½¿ç”¨æƒ…å†µ | å»ºè®® |
|------|----------|------|
| API é…é¢ | å–å†³äºä»»åŠ¡å¤æ‚åº¦ | ä½¿ç”¨ `--calls` é™åˆ¶ |
| ç£ç›˜ç©ºé—´ | æ—¥å¿—æ–‡ä»¶å¢é•¿ | å®šæœŸæ¸…ç† `.ralph/logs` |
| å†…å­˜ | tmux + Claude | æœ€å° 4GB RAM |
| CPU | ä¸»è¦æ˜¯ Claude è°ƒç”¨ | è¾ƒä½ |

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

```bash
# 1. é™åˆ¶å¹¶å‘è°ƒç”¨
ralph --calls 50 --monitor

# 2. å¢åŠ è¶…æ—¶ä»¥å‡å°‘é‡è¯•
ralph --timeout 20 --monitor

# 3. ä½¿ç”¨ä¼šè¯è¿ç»­æ€§ï¼ˆé»˜è®¤å¯ç”¨ï¼‰
ralph --monitor  # è‡ªåŠ¨ä¿æŒä¸Šä¸‹æ–‡

# 4. å®šæœŸæ¸…ç†æ—¥å¿—
rm -rf .ralph/logs/*.log.old

# 5. å¯¹äºå¤§é¡¹ç›®ï¼Œä½¿ç”¨åˆ†é˜¶æ®µæ–¹æ³•
# åˆ›å»ºå¤šä¸ª PROMPT æ–‡ä»¶ï¼Œé€ä¸ªæ‰§è¡Œ
ralph --prompt phase1.md --monitor
ralph --prompt phase2.md --monitor
```

## å®‰å…¨è€ƒè™‘

### 1. API å¯†é’¥ä¿æŠ¤

```bash
# ä½¿ç”¨ç¯å¢ƒå˜é‡
export ANTHROPIC_API_KEY="sk-ant-..."

# ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç 
# ä¸è¦æäº¤åˆ° git

# æ·»åŠ åˆ° .gitignore
echo ".env" >> .gitignore
echo ".ralph/logs/" >> .gitignore
```

### 2. å‘½ä»¤æ‰§è¡Œé™åˆ¶

```bash
# é™åˆ¶å…è®¸çš„å‘½ä»¤
ralph --allowed-tools "Write,Read,Edit,Bash(git status),Bash(git add),Bash(git commit)"

# å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œæ›´ä¸¥æ ¼çš„é™åˆ¶
ralph --allowed-tools "Write,Read,Edit"
```

### 3. ä»£ç å®¡æŸ¥

```mermaid
graph LR
    A[Ralph å®Œæˆ] --> B[ä»£ç å®¡æŸ¥]
    B --> C{é€šè¿‡?}
    C -->|æ˜¯| D[æäº¤ä»£ç ]
    C -->|å¦| E[ä¿®å¤é—®é¢˜]
    E --> F[æ›´æ–° PROMPT.md]
    F --> G[é‡æ–°è¿è¡Œ Ralph]
    G --> B
    
    style B fill:#FFD700
    style D fill:#90EE90
```

**å»ºè®®ï¼š**
- å§‹ç»ˆå®¡æŸ¥ Ralph ç”Ÿæˆçš„ä»£ç 
- è¿è¡Œæµ‹è¯•å¥—ä»¶éªŒè¯åŠŸèƒ½
- æ£€æŸ¥å®‰å…¨æ¼æ´
- ç¡®è®¤ç¬¦åˆä»£ç è§„èŒƒ

## æ•…éšœæ’é™¤æ¸…å•

```mermaid
graph TD
    A[Ralph é‡åˆ°é—®é¢˜] --> B{é—®é¢˜æ£€æŸ¥æ¸…å•}
    
    B --> C1[âœ“ Claude Code CLI å·²å®‰è£…?]
    B --> C2[âœ“ ANTHROPIC_API_KEY å·²è®¾ç½®?]
    B --> C3[âœ“ tmux å·²å®‰è£…?]
    B --> C4[âœ“ PROMPT.md æ–‡ä»¶å­˜åœ¨?]
    B --> C5[âœ“ é¡¹ç›®ç»“æ„æ­£ç¡®?]
    B --> C6[âœ“ ç£ç›˜ç©ºé—´è¶³å¤Ÿ?]
    B --> C7[âœ“ ç½‘ç»œè¿æ¥æ­£å¸¸?]
    B --> C8[âœ“ API é…é¢æœªè¶…é™?]
    
    C1 --> D{å…¨éƒ¨<br/>é€šè¿‡?}
    C2 --> D
    C3 --> D
    C4 --> D
    C5 --> D
    C6 --> D
    C7 --> D
    C8 --> D
    
    D -->|æ˜¯| E[æŸ¥çœ‹è¯¦ç»†æ—¥å¿—]
    D -->|å¦| F[ä¿®å¤é—®é¢˜]
    
    E --> G[tail -f .ralph/logs/ralph.log]
    F --> H[é‡æ–°è¿è¡Œ Ralph]
    
    style D fill:#FFD700
    style E fill:#90EE90
    style F fill:#FFB6C1
```

### å®Œæ•´æ•…éšœæ’é™¤å‘½ä»¤

```bash
#!/bin/bash
# Ralph å¥åº·æ£€æŸ¥è„šæœ¬

echo "=== Ralph å¥åº·æ£€æŸ¥ ==="

# 1. æ£€æŸ¥ Claude Code
echo -n "Claude Code CLI: "
if command -v claude-code &> /dev/null; then
    echo "âœ“ å·²å®‰è£… ($(claude-code --version))"
else
    echo "âœ— æœªå®‰è£…"
fi

# 2. æ£€æŸ¥ API å¯†é’¥
echo -n "ANTHROPIC_API_KEY: "
if [ -n "$ANTHROPIC_API_KEY" ]; then
    echo "âœ“ å·²è®¾ç½®"
else
    echo "âœ— æœªè®¾ç½®"
fi

# 3. æ£€æŸ¥ tmux
echo -n "tmux: "
if command -v tmux &> /dev/null; then
    echo "âœ“ å·²å®‰è£… ($(tmux -V))"
else
    echo "âœ— æœªå®‰è£…"
fi

# 4. æ£€æŸ¥ timeout/gtimeout
echo -n "timeout å‘½ä»¤: "
if command -v timeout &> /dev/null; then
    echo "âœ“ timeout å¯ç”¨"
elif command -v gtimeout &> /dev/null; then
    echo "âœ“ gtimeout å¯ç”¨"
else
    echo "âœ— æœªæ‰¾åˆ°"
fi

# 5. æ£€æŸ¥é¡¹ç›®ç»“æ„
echo -n "PROMPT.md: "
if [ -f "PROMPT.md" ]; then
    echo "âœ“ å­˜åœ¨"
else
    echo "âœ— ä¸å­˜åœ¨"
fi

# 6. æ£€æŸ¥ Ralph çŠ¶æ€
echo -n "Ralph çŠ¶æ€: "
if command -v ralph &> /dev/null; then
    ralph --status --output-format text 2>/dev/null || echo "æœªè¿è¡Œ"
else
    echo "âœ— Ralph æœªå®‰è£…"
fi

# 7. æ£€æŸ¥æ–­è·¯å™¨
echo -n "æ–­è·¯å™¨: "
ralph --circuit-status 2>/dev/null || echo "N/A"

# 8. æ£€æŸ¥ç£ç›˜ç©ºé—´
echo -n "ç£ç›˜ç©ºé—´: "
df -h . | awk 'NR==2 {print $4 " å¯ç”¨"}'

echo "=== æ£€æŸ¥å®Œæˆ ==="
```

## æ€»ç»“

Ralph æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œèƒ½å¤Ÿè®© Claude Code è‡ªä¸»å®Œæˆå¤æ‚çš„å¼€å‘ä»»åŠ¡ã€‚é€šè¿‡åˆç†ä½¿ç”¨å®ƒçš„åŠŸèƒ½ï¼Œä½ å¯ä»¥ï¼š

```mermaid
graph LR
    A[ä½¿ç”¨ Ralph] --> B[æå‡å¼€å‘æ•ˆç‡]
    A --> C[é™ä½äººå·¥æˆæœ¬]
    A --> D[ä¿è¯ä»£ç è´¨é‡]
    A --> E[åŠ é€Ÿè¿­ä»£å‘¨æœŸ]
    
    B --> F[ä¸“æ³¨äºæ¶æ„]
    C --> F
    D --> F
    E --> F
    
    F --> G[æ›´å¿«äº¤ä»˜äº§å“]
    
    style A fill:#FFD700
    style G fill:#90EE90
```

### å…³é”®è¦ç‚¹

1. **æ˜ç¡®çš„æç¤ºè¯**æ˜¯æˆåŠŸçš„å…³é”®
2. **ç›‘æ§å’Œè°ƒè¯•**å·¥å…·å¸®åŠ©æŒæ§è¿›åº¦
3. **å®‰å…¨å®è·µ**ä¿æŠ¤ä»£ç å’Œèµ„æº
4. **åˆç†åˆ†è§£ä»»åŠ¡**æé«˜æˆåŠŸç‡
5. **å®šæœŸå®¡æŸ¥**ç¡®ä¿ä»£ç è´¨é‡

### ä¸‹ä¸€æ­¥

- â­ åœ¨ [GitHub](https://github.com/frankbria/ralph-claude-code) ä¸Šç»™é¡¹ç›®åŠ æ˜Ÿ
- ğŸ“– é˜…è¯» [å®Œæ•´æ–‡æ¡£](https://github.com/frankbria/ralph-claude-code/blob/main/README.md)
- ğŸ¤ å‚ä¸ [è´¡çŒ®](https://github.com/frankbria/ralph-claude-code/blob/main/CONTRIBUTING.md)
- ğŸ’¬ åˆ†äº«ä½ çš„ä½¿ç”¨ç»éªŒ

### ç›¸å…³èµ„æº

- [Claude Code å®˜æ–¹æ–‡æ¡£](https://docs.anthropic.com/claude/docs)
- [Ralph æŠ€æœ¯åŸç†](https://github.com/frankbria/ralph-claude-code/blob/main/CLAUDE.md)
- [å®ç°è®¡åˆ’](https://github.com/frankbria/ralph-claude-code/blob/main/IMPLEMENTATION_PLAN.md)
- [å˜æ›´æ—¥å¿—](https://github.com/frankbria/ralph-claude-code/blob/main/CHANGELOG.md)

---

**Happy Coding with Ralph! ğŸš€**

*è®© AI ä¸ºä½ å·¥ä½œï¼Œè€Œä¸æ˜¯ä½ ä¸º AI å·¥ä½œã€‚*

